# 水印助手
给证件图打水印是一个必要的习惯，奈何每次都要用PS这把大刀来搞。考虑隐私问题，一堆一个个都要联网，所以就随便写了这个工具。

## 需求
一个启用了JavaScript的现代浏览器，不需要联网。

## 使用
- HTML文件

    直接用浏览器打开[watermark-helper.html](watermark-helper.html) 或 [watermark-helper.min.html](watermark-helper.min.html)（压缩版）即可。

- DataLink **推荐**
    
    使用浏览器打开[data-link.txt](data-link.txt)文件中的链接或直接点击[此链接](data:text/html;base64,PCFET0NUWVBFIGh0bWw+PGh0bWwgbGFuZz16aD48aGVhZD48bWV0YSBjaGFyc2V0PVVURi04Pjx0aXRsZT7msLTljbDliqnmiYs8L3RpdGxlPjxtZXRhIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEiIG5hbWU9dmlld3BvcnQ+PHN0eWxlPmJvZHl7bWFyZ2luOmF1dG87bWF4LXdpZHRoOjYwdmh9aW1ne2JvcmRlcjowO2JvcmRlci1yYWRpdXM6NXB4O3dpZHRoOjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94fWNhbnZhc3t3aWR0aDowO2hlaWdodDowfWxhYmVse2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLXRvcDo4cHh9I2Ryb3AtYXJlYXtib3JkZXI6MnB4IGRhc2hlZCAjY2NjO3BhZGRpbmc6MTBweDt0ZXh0LWFsaWduOmNlbnRlcn0jdXBsb2FkLWlucHV0e2Rpc3BsYXk6bm9uZX08L3N0eWxlPjwvaGVhZD48Ym9keT48Y2FudmFzPjwvY2FudmFzPjxhIGRvd25sb2FkIGlkPWltZ2xpbms+PGltZz48L2E+PGRpdj48ZGl2IGlkPWRyb3AtYXJlYT48aW5wdXQgaWQ9dXBsb2FkLWlucHV0IHR5cGU9ZmlsZSBhY2NlcHQ9aW1hZ2UvKj4g5ouW5pS+5oiW54K55Ye76YCJ5oup5Zu+54mHPC9kaXY+PGxhYmVsPuawtOWNsOaWh+Wtl++8miA8aW5wdXQgaWQ9Y29udGVudCB0eXBlPXRleHQgdmFsdWU95LuF5L6bWFjlrp7lkI3orqTor4Hkvb/nlKg+PC9sYWJlbD48bGFiZWw+5rC05Y2w6aKc6Imy77yaIDxpbnB1dCBpZD1jb2xvciB0eXBlPWNvbG9yIHZhbHVlPSM2NjY2NjY+PC9sYWJlbD48bGFiZWw+5Zu+54mH5a695bqm77yaIDxpbnB1dCBpZD13aWR0aCB0eXBlPW51bWJlciB2YWx1ZT0yMDQ4PjwvbGFiZWw+PGxhYmVsPuWbvueJh+i0qOmHj++8miA8aW5wdXQgaWQ9cXVhbGl0eSB0eXBlPXJhbmdlIHZhbHVlPTgwIG1heD0xMDAgbWluPTE+PHNwYW4gaWQ9aW1nc2l6ZT48L3NwYW4+PC9sYWJlbD48bGFiZWw+5LiN6YCP5piO5bqm77yaIDxpbnB1dCBpZD1hbHBoYSB0eXBlPXJhbmdlIHZhbHVlPTIwIG1heD0xMDAgbWluPTEwPjwvbGFiZWw+PGxhYmVsPuaWh+Wtl+Wkp+Wwj++8miA8aW5wdXQgaWQ9c2l6ZSB0eXBlPXJhbmdlIHZhbHVlPTQgbWF4PTEwIG1pbj0xPjwvbGFiZWw+PGxhYmVsPuaXi+i9rOinkuW6pu+8miA8aW5wdXQgaWQ9YW5nbGUgdHlwZT1yYW5nZSB2YWx1ZT0tNDUgbWF4PTE4MCBtaW49LTE4MD48L2xhYmVsPjxsYWJlbD7msLTljbDooYzot53vvJogPGlucHV0IGlkPWdhcCB0eXBlPXJhbmdlIHZhbHVlPTE1MCBtYXg9MzAwIG1pbj0yMD48L2xhYmVsPjxsYWJlbD7msLTljbDlrZfkvZPvvJogPGlucHV0IGlkPWZvbnQgdHlwZT10ZXh0IHZhbHVlPXNhbnMtc2VyaWY+PC9sYWJlbD48bGFiZWw+PGEgZG93bmxvYWQgaWQ9c2F2ZWxpbmsgaHJlZj0iamF2YXNjcmlwdDphbGVydCgn6K+35YWI5omT5byA5Zu+54mHJykiPuS/neWtmOWbvueJhzwvYT48L2xhYmVsPjwvZGl2PjxzY3JpcHQ+dmFyIGltZz1udWxsO2Z1bmN0aW9uIHJlcGFpbnQoKXtpZihpbWcpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjYW52YXMiKVswXS5nZXRDb250ZXh0KCIyZCIpLHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIndpZHRoIikudmFsdWUsbj1pbWcuaGVpZ2h0KnQvaW1nLndpZHRoLGE9KGUuY2FudmFzLndpZHRoPXQsZS5jYW52YXMuaGVpZ2h0PW4sTWF0aC5tYXgobix0KSksZD0oZS5yZXN0b3JlKCksZS5kcmF3SW1hZ2UoaW1nLDAsMCx0LG4pLGUuZmlsbFN0eWxlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2xvciIpLnZhbHVlLGUuZ2xvYmFsQWxwaGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFscGhhIikudmFsdWUvMTAwLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzaXplIikudmFsdWUqYS8xMDApLGw9KGUuZm9udD1kKydweCAiJytkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9udCIpLnZhbHVlKyciJyxlLnRleHRCYXNlbGluZT0ibWlkZGxlIixlLnJvdGF0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5nbGUiKS52YWx1ZSpNYXRoLlBJLzE4MCksZCpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FwIikudmFsdWUvMTAwKSxvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250ZW50IikudmFsdWU7aWYoby5sZW5ndGgpe2Zvcih2YXIgcj1NYXRoLnNxcnQoYSphKjIpLGk9ZS5tZWFzdXJlVGV4dChvKS53aWR0aCxtPS1hLGM9ITE7bTw9cjttKz1kK2wsYz0hYylmb3IodmFyIGc9LWEtKGM/aS8yOjApO2c8PXIrKGM/aS8yOjApO2crPWkrZCllLmZpbGxUZXh0KG8sZyxtKTt0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWFsaXR5IikudmFsdWU7ZS5jYW52YXMudG9CbG9iKGU9Pnt2YXIgdD1VUkwuY3JlYXRlT2JqZWN0VVJMKGUpO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbWdzaXplIikuaW5uZXJIVE1MPWAoJHtNYXRoLmNlaWwoZS5zaXplLzEwMjQpfSBLQilgLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKVswXS5zcmM9dCxkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1nbGluayIpLmhyZWY9dCxkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZWxpbmsiKS5ocmVmPXR9LCJpbWFnZS9qcGVnIix0LzEwMCl9fX1mdW5jdGlvbiBjcmVhdGVCaXRtYXAoZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGZ1bmN0aW9uKCl7dCh0aGlzKX0pLG4uc3JjPVVSTC5jcmVhdGVPYmplY3RVUkwoZSl9ZnVuY3Rpb24gaGFuZGxlSW1hZ2VVcGxvYWQoZSl7Y3JlYXRlQml0bWFwKGUsZnVuY3Rpb24oZSl7aW1nPWUscmVwYWludCgpfSk7ZT1lLm5hbWUuc3BsaXQoIi4iKTtlLnNwbGljZSgtMSwwLCJ3YXRlcm1hcmtlZCIpLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbWdsaW5rIikuZG93bmxvYWQ9ZS5qb2luKCIuIiksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVsaW5rIikuZG93bmxvYWQ9ZS5qb2luKCIuIil9ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixmdW5jdGlvbihlKXsiZmlsZSI9PT1lLnRhcmdldC50eXBlP2UudGFyZ2V0LmZpbGVzLmxlbmd0aCYmaGFuZGxlSW1hZ2VVcGxvYWQoZS50YXJnZXQuZmlsZXNbMF0pOnJlcGFpbnQoKX0pO3ZhciBkcm9wQXJlYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZHJvcC1hcmVhIik7ZHJvcEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ292ZXIiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxkcm9wQXJlYS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNmMmYyZjIifSksZHJvcEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2xlYXZlIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZHJvcEFyZWEuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIifSksZHJvcEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigiZHJvcCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGRyb3BBcmVhLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIixoYW5kbGVJbWFnZVVwbG9hZChlLmRhdGFUcmFuc2Zlci5maWxlc1swXSl9KSxkcm9wQXJlYS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidXBsb2FkLWlucHV0IikuY2xpY2soKX0pPC9zY3JpcHQ+PC9ib2R5PjwvaHRtbD4=)即可，此链接直接包含了整个网页文件，可添加到收藏夹云同步等。
    > 请注意部分国产浏览器不支持这么长的链接，如果出现网页显示不全或操作无反应的话，请换用上一种方法。
    
## 额外说明
- 水印大小比：根据图片的大小缩放字体的比例（3%~10%）
- 水印间隔比：根据字体大小缩放两行水印间距的比例（20%~300%）

## 构建
如果有自行修改的需求，请直接修改 `./watermark-helper.html` 文件，然后运行 `./index.js` 将会自动根据修改生成其他文件。

```bash
npm install
node .
```
